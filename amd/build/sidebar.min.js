function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}define ("block_fastnav/sidebar",["jquery","core/ajax","core/log","core/notification","core/templates","core/config"],function(a,b,c,d,e){'use strict';var f={options:{open:!1,instanceid:0},setOptions:function setOptions(a){var b,c;for(b in this.options){if(this.options.hasOwnProperty(b)&&a.hasOwnProperty(b)){c=_typeof(this.options[b]);if("boolean"===c){this.options[b]=!!a[b]}else if("number"===c){this.options[b]=+a[b]}else if("string"===c){this.options[b]=a[b]+""}else{this.options[b]=a[b]}}}},start:function start(){c.debug("block_fastnav/sidebar: start()");c.debug(this.options);this.loadNavigation()},loadNavigation:function loadNavigation(){var g=b.call([{methodname:"block_fastnav_get_items",args:{instanceid:this.options.instanceid}}]);g[0].done(function(b){if(0===b.items.length){c.debug("block_fastnav/sidebar: no items.");return}e.render("block_fastnav/block_item_list",b).done(function(b){a("body").prepend("<nav class=\"block-fastnav-sidebar\">"+b+"</nav>");f.loadEvents()}).fail(d.exception)}).fail(d.exception)},openOrClose:function openOrClose(){var b=a(".block-fastnav-sidebar");if(80!==b.width()){b.animate({width:"80px"},300,function(){c.debug("block_fastnav/sidebar: Animation complete.");b.find(".fa-arrow-left").removeClass("fa-arrow-left").addClass("fa-arrow-right")});return}b.animate({width:0},300,function(){c.debug("block_fastnav/sidebar: Animation complete.");b.find(".fa-arrow-right").addClass("fa-arrow-left").removeClass("fa-arrow-right")})},loadEvents:function loadEvents(){c.debug("block_fastnav/sidebar: loadEvents()");if(a(".block-fastnav-lock.active").length){f.openOrClose()}a("body").on("mouseover",".block-fastnav-opener",function(){f.openOrClose()});a("body").on("click",".block-fastnav-lock",function(b){var d=a(b.currentTarget),e=d.hasClass("active");c.debug("block_fastnav/sidebar: locked ",e);if(e){d.removeClass("active");f.updateOpenPreference("0");f.openOrClose();return}d.addClass("active");f.updateOpenPreference("1")});try{a(".block-fastnav-sidebar a").tooltip()}catch(a){c.debug("block_fastnav/sidebar: bootstrap tooltip not available ")}},updateOpenPreference:function updateOpenPreference(a){M.util.set_user_preference("block_fastnav_open",a)}};return{init:function init(a){f.setOptions(a);f.start()}}});
//# sourceMappingURL=sidebar.min.js.map
